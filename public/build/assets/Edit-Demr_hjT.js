import{b as j,j as e,M as y,r as s,U as f}from"./app-BaK7xarX.js";import{A as N,B as w}from"./AuthenticatedLayout-CGsPZ6fU.js";import{S as t}from"./react-select.esm-D0RVYG5i.js";const $=({customers:m,collectors:p,plans:u,customer_plan:l})=>{const{data:r,setData:o,patch:h,errors:i,reset:b,processing:g}=j({customer_id:l.customer.id,plan_id:l.plan.id,ppoe:l.ppoe,password:l.password,collector_id:l.collector.id,date_registration:l.date_registration,date_billing:l.date_billing}),x=async a=>{a.preventDefault(),await h(route("customer_plans.update",l.id),{onSuccess:()=>{alert("Customer plan was updated successfully!"),window.location.reload(),b()},onError:v=>{console.log(v)}})};m.map(a=>({value:a.id,label:`${a.lastname} ${a.firstname}`}));const d=p.map(a=>({value:a.id,label:`${a.lastname} ${a.firstname}`})),n=u.map(a=>({value:a.id,label:`${a.mbps} mbps - â‚± ${Number(a.plan_price).toLocaleString("en-PH")}`})),c=[{value:"batch1",label:"Batch1"},{value:"batch2",label:"Batch2"}];return e.jsxs(N,{children:[e.jsx(y,{title:"Edit Customer Plan"}),e.jsx("div",{className:"bg-white overflow-y-auto max-h-screen grid place-justify-center ",children:e.jsx("div",{className:"mt-2 px-4",children:e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs(s.Card,{color:"white",className:" mx-auto w-full max-w-lg  p-8 shadow-md rounded-md mt-1 mb-2",children:[e.jsx("div",{className:"flex justify-end mb-2",children:e.jsx(s.Tooltip,{content:"Back",children:e.jsx(f,{href:"/customer_plans",className:"hover:bg-gray-200 px-2 py-1 rounded",children:e.jsx(w,{className:"text-xl cursor-pointer"})})})}),e.jsx(s.Typography,{variant:"h5",color:"blue-gray",className:"text-center",children:"Edit Customer Plan"}),e.jsxs("form",{onSubmit:x,className:"mt-8 mb-2",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Customer"}),e.jsx(s.Input,{size:"md",value:l.customer.firstname+" "+l.customer.firstname,disabled:!0,className:"w-full"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Plan"}),e.jsx(t,{options:n,placeholder:"Choose a plan",isClearable:!0,value:n.find(a=>a.value===r.plan_id),onChange:a=>o("plan_id",a?a.value:""),className:`${i.plan_id?"border border-red-600":""}`})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"PPOE"}),e.jsx(s.Input,{size:"md",value:r.ppoe,onChange:a=>o("ppoe",a.target.value),error:!!i.ppoe,className:"w-full"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Password"}),e.jsx(s.Input,{size:"md",value:r.password,onChange:a=>o("password",a.target.value),error:!!i.password,className:"w-full"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Assign Collector"}),e.jsx(t,{options:d,placeholder:"Choose a collector",isClearable:!0,value:d.find(a=>a.value===r.collector_id),onChange:a=>o("collector_id",a?a.value:"")})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Date of Billing"}),e.jsx(t,{options:c,placeholder:"Choose a date billing",isClearable:!0,value:c.find(a=>a.value===r.date_billing),onChange:a=>o("date_billing",a?a.value:""),className:`${i.date_billing?"border border-red-600":""}`})]})]}),e.jsx(s.Button,{type:"submit",disabled:g,className:"mt-6 w-full",color:"blue",fullWidth:!0,children:"Update"})]})]})})})})," "]})};export{$ as default};
