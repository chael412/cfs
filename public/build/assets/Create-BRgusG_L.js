import{a as b,j as e,M as j,r as s,U as v}from"./app-BuVJYkqy.js";import{A as f,B as g}from"./AuthenticatedLayout-Yg6AIdKH.js";import{S as c}from"./react-select.esm-fwRKfl0U.js";const w=({customers:n,plans:d})=>{const{data:l,setData:t,post:i,errors:o,reset:m,processing:u}=b({customer_id:"",plan_id:""}),p=async a=>{a.preventDefault(),await i(route("customer_plans.store"),{onSuccess:()=>{alert("Customer plan was added successfully!"),m()},onError:x=>{console.log(x)}})},r=n.map(a=>({value:a.id,label:`${a.lastname} ${a.firstname}`})),h=d.map(a=>({value:a.id,label:`${a.mbps} mbps - ${a.plan_price}`}));return e.jsxs(f,{children:[e.jsx(j,{title:"Add Customer"}),e.jsx("div",{className:"bg-white overflow-y-auto max-h-screen grid place-justify-center ",children:e.jsx("div",{className:"mt-2 px-4",children:e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs(s.Card,{color:"white",className:" mx-auto w-full max-w-lg  p-8 shadow-md rounded-md mt-1 mb-2",children:[e.jsx("div",{className:"flex justify-end mb-2",children:e.jsx(s.Tooltip,{content:"Back",children:e.jsx(v,{href:"/customer_plans",className:"hover:bg-gray-200 px-2 py-1 rounded",children:e.jsx(g,{className:"text-xl cursor-pointer"})})})}),e.jsx(s.Typography,{variant:"h5",color:"blue-gray",className:"text-center",children:"Add Customer Plan"}),e.jsxs("form",{onSubmit:p,className:"mt-8 mb-2",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Customers"}),e.jsx(c,{options:r,placeholder:"Choose a customer",isClearable:!0,value:r.find(a=>a.value===l.sex),onChange:a=>t("customer_id",a?a.value:""),className:`${o.customer_id?"border border-red-600":""}`})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Plan"}),e.jsx(c,{options:h,placeholder:"Choose a plan",isClearable:!0,value:r.find(a=>a.value===l.sex),onChange:a=>t("plan_id",a?a.value:""),className:`${o.plan_id?"border border-red-600":""}`})]})]}),e.jsx(s.Button,{type:"submit",disabled:u,className:"mt-6 w-full",color:"blue",fullWidth:!0,children:"Save"})]})]})})})})," "]})};export{w as default};
