import{a as s,V as C,j as e,M as _,r as o,c as P}from"./app-CRqUHhzl.js";import{d as A}from"./NavLink-BM7Y4xHP.js";import{a as E}from"./index-DYj-UxC1.js";import{A as I}from"./AuthenticatedLayout-BYBWx7hp.js";import{u as T}from"./useQuery-BilsSbvN.js";import{U}from"./UseAppUrl-Cv71bqFi.js";const K=()=>{const d=U(),[x,O]=s.useState("month"),[a,u]=s.useState(""),[r,m]=s.useState(""),[l,p]=s.useState(""),h=async({queryKey:t})=>{const[F,j,y,v,N,S,b,w,D]=t,c=new Date().toISOString().split("T")[0];return(await P.get(`${d}/api/raw_collections`,{params:{page:j,lastname:y,sortColumn:v,sortDirection:N,filter:S,start_date:b||c,end_date:w||c,status:D}})).data},{customers:n}=C().props,[g,k]=s.useState(""),[f,q]=s.useState((n==null?void 0:n.current_page)||1),[i,z]=s.useState({column:"",direction:"asc"});return T({queryKey:["collections",f,g,i.column,i.direction,x,a,r,l],queryFn:h,keepPreviousData:!0}),e.jsxs(I,{children:[e.jsx(_,{title:"Collections"}),e.jsx("div",{className:"bg-white overflow-y-auto max-h-[590px]",children:e.jsxs("div",{className:"mt-5 px-4",children:[e.jsx("div",{className:"mb-6 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx(o.Typography,{variant:"lead",size:"small",className:"mb-0 text-lg font-bold",children:"Collections"}),e.jsx(o.Typography,{className:"text-sm",variant:"paragraph",size:"small",children:"Manage collections"})]})}),e.jsxs("div",{className:"w-full flex items-center justify-center flex-col-reverse gap-6 lg:flex-row",children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Start Date"}),e.jsx("input",{type:"date",value:a,onChange:t=>u(t.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"End Date"}),e.jsx("input",{type:"date",value:r,onChange:t=>m(t.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),e.jsxs("select",{value:l,onChange:t=>p(t.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"unpaid",children:"Unpaid"})]})]}),e.jsx("div",{children:e.jsx("a",{href:route("collections.show",{start_date:a||new Date().toISOString().split("T")[0],end_date:r||new Date().toISOString().split("T")[0],status:l}),target:"_blank",children:e.jsxs(o.Button,{className:"flex gap-2 items-center",color:"blue",size:"md",children:[e.jsx(E,{className:"text-lg"}),"Preview"]})})})]}),e.jsxs("div",{className:"flex justify-center flex-col items-center mt-12",children:[e.jsx(A,{className:"text-9xl"}),"Filter to show collection"]})]})})]})};export{K as default};
