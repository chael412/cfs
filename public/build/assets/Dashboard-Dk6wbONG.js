import{j as e,a as r,M as v}from"./app-BAYPWCIu.js";import{A as N,a as d}from"./AuthenticatedLayout-BNRzJm3G.js";import"./NavLink-DP8fEXpp.js";import"./index-w1gOlMMa.js";const n=()=>e.jsxs("div",{className:"p-4 border rounded-lg shadow bg-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-4 w-1/3 bg-gray-300 rounded mb-3"}),e.jsx("div",{className:"h-3 w-2/3 bg-gray-300 rounded mb-2"}),e.jsx("div",{className:"h-3 w-1/2 bg-gray-300 rounded mb-2"}),e.jsx("div",{className:"h-3 w-1/4 bg-gray-300 rounded"})]});function T({activeCustomers:c,inactiveCustomers:x,collectors:h}){const m=new Date().getFullYear(),[a,g]=r.useState(null),[l,p]=r.useState(""),[t,b]=r.useState(m),[i,o]=r.useState(!1),j=async()=>{try{o(!0);const s=await axios.get("/api/transaction-summary",{params:{month:l||void 0,year:t}});g(s.data)}catch(s){console.error("Error fetching summary:",s)}finally{o(!1)}};return r.useEffect(()=>{j()},[l,t]),e.jsxs(N,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Dashboard"}),children:[e.jsx(v,{title:"Dashboard"}),e.jsxs("div",{className:"bg-white overflow-y-auto max-h-[550px]",children:[e.jsxs("div",{className:"p-6 grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md h-[140px]",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-500 text-white p-4 rounded-full",children:e.jsx(d,{size:30})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Active Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md h-[140px]",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-500 text-white p-4 rounded-full",children:e.jsx(d,{size:30})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Collectors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md h-[140px]",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-red-500 text-white p-4 rounded-full",children:e.jsx(d,{size:30})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Disconnection"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x})]})]})})]}),e.jsxs("div",{className:"p-6 bg-white shadow-md rounded-xl",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Transaction Summary"," ",l?`(Month: ${l}/${t})`:`(Year: ${t})`]}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("select",{value:l,onChange:s=>p(s.target.value),className:"border rounded px-2 py-1",children:[e.jsx("option",{value:"",children:"-- Whole Year --"}),Array.from({length:12},(s,u)=>u+1).map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("input",{type:"number",value:t,onChange:s=>b(s.target.value),className:"border rounded px-2 py-1"})]}),i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(n,{}),e.jsx(n,{}),e.jsx(n,{})]}),!i&&a&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-4 border rounded-lg shadow bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Overall"}),e.jsxs("p",{children:["Total Partial: ₱",a.overall.total_partial]}),e.jsxs("p",{children:["Total Rebate: ₱",a.overall.total_rebate]}),e.jsxs("p",{className:"font-bold text-green-600",children:["Net Pay: ₱",a.overall.net_pay]})]}),e.jsxs("div",{className:"p-4 border rounded-lg shadow bg-green-50",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Advance Billing Collection"}),e.jsxs("p",{children:["Total Partial: ₱",a.advance.total_partial]}),e.jsxs("p",{children:["Total Rebate: ₱",a.advance.total_rebate]}),e.jsxs("p",{className:"font-bold text-green-600",children:["Net Pay: ₱",a.advance.net_pay]})]}),e.jsxs("div",{className:"p-4 border rounded-lg shadow bg-blue-50",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Batch Billing Collection"}),e.jsxs("p",{children:["Total Partial: ₱",a.batch.total_partial]}),e.jsxs("p",{children:["Total Rebate: ₱",a.batch.total_rebate]}),e.jsxs("p",{className:"font-bold text-green-600",children:["Net Pay: ₱",a.batch.net_pay]})]})]})]})]})]})}export{T as default};
