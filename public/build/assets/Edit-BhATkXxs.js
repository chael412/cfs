import{b as p,j as a,M as h,r,U as x}from"./app-C2YoZluY.js";import{A as b,B as g}from"./AuthenticatedLayout-DX0WDM8A.js";import{S as v}from"./react-select.esm-DNkvo6gY.js";import"./NavLink-BndqAk1_.js";import"./index-DGfmENoq.js";const w=({bill:s})=>{const{data:l,setData:t,patch:i,errors:o,reset:c,processing:m}=p({customer_plan_id:s.customer_plan_id,bill_no:s.bill_no||"",rebate:s.rebate||"",partial:s.partial||"",bill_amount:s.bill_amount||"",remarks:s.remarks||""});console.log(s);const d=async e=>{e.preventDefault(),await i(route("advance_bills.update",s.id),{onSuccess:()=>{alert("Advance bill was updated successfully!"),c()},onError:u=>{console.log(u)}})},n=[{value:"paid",label:"Paid"},{value:"unpaid",label:"Unpaid"}];return a.jsxs(b,{children:[a.jsx(h,{title:"Edit Advance Billing"}),a.jsx("div",{className:"bg-white overflow-y-auto max-h-[590px] grid place-justify-center ",children:a.jsx("div",{className:"mt-2 px-4",children:a.jsx("div",{className:"mb-6 flex justify-between items-center",children:a.jsxs(r.Card,{color:"white",className:" mx-auto w-full max-w-lg  p-8 shadow-md rounded-md mt-1 mb-2",children:[a.jsx("div",{className:"flex justify-end mb-2",children:a.jsx(r.Tooltip,{content:"Back",children:a.jsx(x,{href:"/advance_bills",className:"hover:bg-gray-200 px-2 py-1 rounded",children:a.jsx(g,{className:"text-xl cursor-pointer"})})})}),a.jsx(r.Typography,{variant:"h5",color:"blue-gray",className:"text-center",children:"Edit Advance Bill"}),a.jsxs("form",{onSubmit:d,className:"mt-8 mb-2",children:[a.jsx("div",{className:"mb-3",children:a.jsxs(r.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 font-bold",children:["Customer Name : ",a.jsx("span",{cl:!0}),`${s.customer.lastname}, ${s.customer.firstname} ${s.customer.middlename??""}`]})}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Bill No."}),a.jsx("input",{size:"md",value:l.customer_plan_id,onChange:e=>t("customer_plan_id",e.target.value),type:"hidden"}),a.jsx(r.Input,{size:"md",value:l.bill_no,onChange:e=>t("bill_no",e.target.value),disabled:!0,className:"w-full"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Rebate"}),a.jsx(r.Input,{size:"md",value:l.rebate,onChange:e=>t("rebate",e.target.value),error:!!o.rebate})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Partial"}),a.jsx(r.Input,{size:"md",value:l.partial,onChange:e=>t("partial",e.target.value),error:!!o.partial})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Bill Amount"}),a.jsx(r.Input,{size:"md",value:l.bill_amount,onChange:e=>t("bill_amount",e.target.value),error:!!o.bill_amount})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.jsxs("div",{className:"mb-3",children:[a.jsx(r.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Remark"}),a.jsx(v,{options:n,placeholder:"Choose a remark",isClearable:!0,value:n.find(e=>e.value===l.remarks),onChange:e=>t("remarks",e?e.value:"")})]})}),a.jsx(r.Button,{type:"submit",disabled:m,className:"mt-6 w-full",color:"blue",fullWidth:!0,children:"Update"})]})]})})})})," "]})};export{w as default};
