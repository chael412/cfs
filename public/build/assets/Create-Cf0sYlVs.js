import{a as t,b as I,j as a,M as L,r as e,U as M}from"./app-lv7mPu4O.js";import{A as B,B as S}from"./AuthenticatedLayout-Dkxu0eiu.js";const P=({customers:b,collectors:G,generated_bill_no:x})=>{t.useState("");const[j,i]=t.useState(""),[g,W]=t.useState(""),[y,R]=t.useState(""),[d,v]=t.useState(!1),m=()=>v(!d),{data:r,setData:o,post:f,errors:N,reset:T,processing:w}=I({customer_plan_id:"",bill_no:x,bill_amount:""}),C=async s=>{s.preventDefault(),console.log(r),await f(route("batch_bills.store"),{onSuccess:()=>{alert("Batch Bill was created successfully!"),T()},onError:n=>{console.log(n)}})};b.map(s=>({value:s.id,label:`${s.lastname} ${s.firstname}`}));const _=["Month","Bill No.","Bill Amount","Status"],A=["Acc No.","Customer Name"],h=[{name:"John Michael",job:"Manager",date:"23/04/18"},{name:"Alexa Liras",job:"Developer",date:"23/04/18"},{name:"Laurent Perrier",job:"Executive",date:"19/09/17"},{name:"Michael Levi",job:"Developer",date:"24/12/08"},{name:"Richard Gran",job:"Manager",date:"04/10/21"},{name:"Laurent Perrier",job:"Executive",date:"19/09/17"},{name:"Michael Levi",job:"Developer",date:"24/12/08"},{name:"Richard Gran",job:"Manager",date:"04/10/21"},{name:"Laurent Perrier",job:"Executive",date:"19/09/17"},{name:"Michael Levi",job:"Developer",date:"24/12/08"},{name:"Richard Gran",job:"Manager",date:"04/10/21"}],u=[{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"},{name:"123",job:"Wesly Ivan Gaffud"}];return a.jsxs(B,{children:[a.jsx(L,{title:"Create New Bill"}),a.jsxs("div",{className:"bg-white overflow-y-auto max-h-[590px] grid place-justify-center ",children:[a.jsx("div",{className:"flex justify-end mt-5 mb-2 px-4",children:a.jsx(e.Tooltip,{content:"Back",children:a.jsx(M,{href:"/batch_bills",className:"hover:bg-gray-200 px-2 py-1 rounded",children:a.jsx(S,{className:"text-xl cursor-pointer"})})})}),a.jsxs("div",{className:"flex justify-between items-center px-4",children:[a.jsxs("div",{className:"flex gap-6 px-4",children:[a.jsxs(e.Typography,{variant:"h6",color:"blue-gray",children:["ACC NO.: ",a.jsx("span",{className:"text-orange-900",children:"123"})]}),a.jsxs(e.Typography,{variant:"h6",color:"blue-gray",children:["CUSTOMER NAME:"," ",a.jsx("span",{className:"text-orange-900",children:"Wesly Ivan Gaffud"})]}),a.jsxs(e.Typography,{variant:"h6",color:"blue-gray",children:["BALANCE OF JULY:"," ",a.jsx("span",{className:"text-orange-900",children:"1.5m"})]})]}),a.jsxs("div",{children:[a.jsx(e.Button,{onClick:m,variant:"gradient",children:"New Bill"}),a.jsx(e.Dialog,{open:d,handler:m,children:a.jsx(e.DialogBody,{children:a.jsxs(e.Card,{className:"h-[380px] w-full overflow-scroll",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx(e.Typography,{variant:"h6",color:"blue-gray",children:"SEARCH CUSTOMER"}),a.jsx("input",{className:"w-96 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md pl-3 pr-10 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow",placeholder:"Search lastname..."})]}),a.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[a.jsx("thead",{children:a.jsx("tr",{children:A.map(s=>a.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:a.jsx(e.Typography,{variant:"small",color:"blue-gray",className:"font-normal leading-none opacity-70",children:s})},s))})}),a.jsx("tbody",{children:u.map(({name:s,job:n,date:p},c)=>{const l=c===u.length-1?"p-4":"p-4 border-b border-blue-gray-50";return a.jsxs("tr",{className:"hover:bg-gray-100 cursor-pointer",children:[a.jsx("td",{className:l,children:a.jsx(e.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s})}),a.jsx("td",{className:l,children:a.jsx(e.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:n})})]},s)})})]})]})})})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"mt-8 px-4 flex gap-4",children:[a.jsxs(e.Card,{className:"h-[380px] w-[450px] overflow-scroll",children:[a.jsx(e.Typography,{variant:"h6",color:"blue-gray",children:"ALL TRANSACTION"}),a.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[a.jsx("thead",{children:a.jsx("tr",{children:_.map(s=>a.jsx("th",{className:"border-b border-blue-gray-100 bg-blue-gray-50 p-4",children:a.jsx(e.Typography,{variant:"small",color:"blue-gray",className:"font-normal leading-none opacity-70",children:s})},s))})}),a.jsx("tbody",{children:h.map(({name:s,job:n,date:p},c)=>{const l=c===h.length-1?"p-4":"p-4 border-b border-blue-gray-50";return a.jsxs("tr",{children:[a.jsx("td",{className:l,children:a.jsx(e.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:s})}),a.jsx("td",{className:l,children:a.jsx(e.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:n})}),a.jsx("td",{className:l,children:a.jsx(e.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:p})}),a.jsx("td",{className:l,children:a.jsx(e.Typography,{as:"a",href:"#",variant:"small",color:"blue-gray",className:"font-medium",children:"Edit"})})]},s)})})]})]}),a.jsx("div",{className:"mb-6 flex justify-between items-center ",children:a.jsx(e.Card,{color:"white",className:" mx-auto w-full max-w-xl  p-8 shadow-md rounded-md mt-1 mb-2",children:a.jsx("div",{className:"",children:a.jsxs("form",{onSubmit:C,className:" mb-2",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{className:"mb-3",children:[a.jsx(e.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Bill No."}),a.jsx("input",{type:"hidden",value:r.customer_plan_id,onChange:s=>o("customer_plan_id",s.target.value)}),a.jsx("input",{type:"hidden",value:r.bill_no,onChange:s=>o("bill_no",s.target.value)}),a.jsx(e.Input,{size:"md",value:r.bill_no,disabled:!0})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(e.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Mbps Plan"}),a.jsx(e.Input,{disabled:!0,size:"md",value:`${j} mbps - â‚±${new Intl.NumberFormat("en-PH").format(g)}`,onChange:s=>i(s.target.value)})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(e.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Date Registration"}),a.jsx(e.Input,{disabled:!0,type:"date",size:"md",value:y,onChange:s=>i(s.target.value)})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(e.Typography,{variant:"paragraph",color:"blue-gray",className:"mb-1 ",children:"Amount"}),a.jsx(e.Input,{type:"number",size:"md",value:r.bill_amount,onChange:s=>o("bill_amount",s.target.value),error:!!N.bill_amount})]}),a.jsx(e.Button,{type:"submit",disabled:w,className:"mt-6 w-full",color:"blue",fullWidth:!0,children:"Save"})]})})})})]})]})]})};export{P as default};
